<!DOCTYPE html>
<html lang="en">
    <head>
      <meta http-equiv="X-UA-Compatible" content="IE=edge">
      <meta http-equiv="content-type" content="text/html; charset=utf-8">

      <!-- Enable responsiveness on mobile devices-->
      <meta name="viewport" content="width=device-width, initial-scale=1.0">
    
      
    

      <title></title>

      
      

      <!-- CSS -->
      
      <link rel="stylesheet" href="https://lymslive.github.io/vimllearn/book.css">
      

      
      
    </head>

    <body>
        <div class="menu">
            
            
            <nav role="navigation">
                <ul>
                    
                        
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch00-prefcace/">
                                    
                                    前言
                                </a>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch01-viml-feature/">
                                    
                                    第一章 VimL 语言主要特点
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch01-viml-feature/sn1-hello-world/">
                                                    
                                                    1.1 Hello World 的四种写法
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch01-viml-feature/sn2-from-ex-command/">
                                                    
                                                    1.2 同源 ex 命令行
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch01-viml-feature/sn3-week-type-strong-scope/">
                                                    
                                                    1.3 弱类型强作用域
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch01-viml-feature/sn4-autoload-schema/">
                                                    
                                                    1.4 自动加载脚本机制
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/">
                                    
                                    第二章 VimL 语言基本语法
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/sn1-variable-type/">
                                                    
                                                    2.1 变量与类型
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/sn2-comapare-condition/">
                                                    
                                                    2.2 选择与比较
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/sn3-loop-iterate/">
                                                    
                                                    2.3 循环与迭代
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/sn4-function-call/">
                                                    
                                                    2.4 函数定义与使用
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch02-viml-grammar/sn5-exception-error/">
                                                    
                                                    2.5 异常处理
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/">
                                    
                                    第三章 Vim 常用命令
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn1-option-set/">
                                                    
                                                    3.1 选项设置
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn2-key-remap/">
                                                    
                                                    3.2 快捷键重映射
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn3-custom-command/">
                                                    
                                                    3.3 自定义命令
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn4-execute-normal/">
                                                    
                                                    3.4 execute 与 normal
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn5-autocmd-event/">
                                                    
                                                    3.5 自动命令与事件
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch03-viml-command/sn6-debug-command/">
                                                    
                                                    3.6 调试命令
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch04-viml-datastruct/">
                                    
                                    第四章 VimL 数据结构进阶
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch04-viml-datastruct/sn1-list-string/">
                                                    
                                                    4.1 再谈列表与字符串
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch04-viml-datastruct/sn2-dictionary/">
                                                    
                                                    4.2 通用的字典结构
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch04-viml-datastruct/sn3-nest-compose/">
                                                    
                                                    4.3 嵌套组合与扩展
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch04-viml-datastruct/sn4-regex-apply/">
                                                    
                                                    4.4 正则表达式
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/">
                                    
                                    第五章 VimL 函数进阶
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/sn1-variable-argument/">
                                                    
                                                    5.1 可变参数
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/sn2-function-refer/">
                                                    
                                                    5.2 函数引用
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/sn3-dict-function/">
                                                    
                                                    5.3 字典函数
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/sn4-closure-lambda/">
                                                    
                                                    5.4 闭包函数
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch05-viml-function/sn5-autoload-function/">
                                                    
                                                    5.5 自动函数
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch06-builtin-function/">
                                    
                                    第六章 VimL 内建函数使用
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch06-builtin-function/sn1-operate-datatype/">
                                                    
                                                    6.1 操作数据类型
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch06-builtin-function/sn2-operate-edit-object/">
                                                    
                                                    6.2 操作编辑对象
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch06-builtin-function/sn3-operate-filesystem/">
                                                    
                                                    6.3 操作系统文件
                                                </a>
                                            </li>
                                        
                                            <li class="active">
                                                <a href="https://lymslive.github.io/vimllearn/ch06-builtin-function/sn4-other-utility/">
                                                    
                                                    6.4 其他实用函数
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch07-object-program/">
                                    
                                    第七章 VimL 面向对象编程
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch07-object-program/sn1-object-intro/">
                                                    
                                                    7.1 面向对象的简介
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch07-object-program/sn2-dict-object/">
                                                    
                                                    7.2 字典即对象 
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch07-object-program/sn3-object-organize/">
                                                    
                                                    7.3 自定义类的组织管理
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch08-viml-asynchronous/">
                                    
                                    第八章 VimL 异步编程特性
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch08-viml-asynchronous/sn1-asynchronous-intro/">
                                                    
                                                    8.1 异步工作简介
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch08-viml-asynchronous/sn2-asynchronous-job/">
                                                    
                                                    8.2 使用异步任务
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch08-viml-asynchronous/sn3-channle-job/">
                                                    
                                                    8.3 使用通道控制任务
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch08-viml-asynchronous/sn4-internal-terminal/">
                                                    
                                                    8.4 使用配置内置终端
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch09-viml-mix-program/">
                                    
                                    第九章 VimL 混合编程
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch09-viml-mix-program/sn1-extern-filter/">
                                                    
                                                    9.1 用外部语言写过滤器
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch09-viml-mix-program/sn2-extern-interface/">
                                                    
                                                    9.2 外部语言接口编程
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch09-viml-mix-program/sn3-perl-interface/">
                                                    
                                                    9.3 Perl 语言接口开发
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/ch10-viml-plugin-develop/">
                                    
                                    第十章 Vim 插件管理与开发
                                </a>
                                
                                    <ul>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch10-viml-plugin-develop/sn1-plugin-directory/">
                                                    
                                                    10.1 典型插件的目录规范
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch10-viml-plugin-develop/sn2-plugin-manager/">
                                                    
                                                    10.2 插件管理器插件介绍
                                                </a>
                                            </li>
                                        
                                            <li >
                                                <a href="https://lymslive.github.io/vimllearn/ch10-viml-plugin-develop/sn3-plugin-devflow/">
                                                    
                                                    10.3 插件开发流程指引
                                                </a>
                                            </li>
                                        
                                    </ul>
                                
                            </li>
                        
                            
                            <li >
                                
                                <a href="https://lymslive.github.io/vimllearn/chA1-postfcace/">
                                    
                                    结语
                                </a>
                                
                            </li>
                        
                    
                </ul>
            </nav>
            
            
        </div>

        <div class="page">
            <div class="page__header">
                <div class="menu-icon">
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                
                <span class="search-icon">🔎</span>
                
            </div>

            <div class="page__content">
                
                <div class="search-container">
                    <input id="search" type="search" placeholder="Search..">
                    <div class="search-results">
                        <div class="search-results__header"></div>
                        <ul class="search-results__items"></ul>
                    </div>
                </div>
                
                <div class="book-content">
                    
    <h1>6.4 其他实用函数</h1>
    <!-- ## 6.4 其他实用函数 -->
<p>在本章的最末，再介绍一些不太分类，或不常用（但不甚复杂）的函数。须要再次强调的
是，VimL 的函数，是为了访问或（与）控制相应的 Vim 功能而设的。必须理解相应的功
能才能用好相应的函数。Vim 提供的功能很多，对于个体用户而言，可能对某些功能并不
关注或并不感兴趣。</p>
<p>因此，本章罗列介绍这些函数，无法求细致，只为说明 VimL 有这么一种类的函数可用。
当你真正需要用到时，再回去查手册。任一编程语言的 api 函数，只能通过手册学习，
通过实践提高。而这无法从任一书籍教程中学得，书籍只能是引入门，帮用户建立个相关
概念而已。</p>
<h3 id="te-xing-jian-ce-han-shu-shi-yi">特性检测函数拾遗</h3>
<ul>
<li>has() 当前 Vim 版本是否编译进某个功能，似 <code>:verstion</code> 功能</li>
<li>exists() 检查是否存在某个变量、命令、函数等对象</li>
<li>type() 返回变量类型</li>
</ul>
<p>其中 <code>exists()</code> 函数功能强大，用参数字符串前缀来表示哪类对象，主要有以下几种：</p>
<ul>
<li>
<p>选项：<code>&amp;option_name</code> 只判断选项存在，<code>+option_name</code> 判断选项是否有效</p>
</li>
<li>
<p>环境变量：<code>$ENV_NAME</code></p>
</li>
<li>
<p>函数：<code>*function_name</code></p>
</li>
<li>
<p>命令：<code>:command_name</code> 对于函数与命令，都可检查内建的或自定义的</p>
</li>
<li>
<p>变量：<code>variable_name</code> 即没有特殊前缀时检查变量是否存在</p>
</li>
<li>
<p>自动事件：<code>#event</code> <code>#group</code> 等</p>
</li>
<li>
<p>hasmapto() 检查某个命令（键序列）是否有映射（<code>{rhs}</code>）</p>
</li>
<li>
<p>mapcheck() 检查某个按键序列是否有被映射（<code>{lhs}</code>）</p>
</li>
<li>
<p>maparg() 获得某个被映射的键序列实际映射键序</p>
</li>
<li>
<p>wildmenumod() 在命令行映射中检查是否出现补全模式</p>
</li>
</ul>
<p>这几个检查映射状态的函数，常用于设计可定制插件的映射，避免重复、覆盖或冗余的映
射。<code>maparg()</code> 与 <code>mapcheck()</code> 的主参数都是映射的 <code>{lhs}</code>，前者要求精确匹配，
后者只需匹配前缀，返回映射到的 <code>{rhs}</code>。<code>hasmapto()</code> 是反向检查是否有任意的
<code>{lhs}</code> 映射到参数指定的 <code>{rhs}</code>。</p>
<h3 id="lei-xing-wen-jian-yu-fa-xiang-guan">类型文件语法相关</h3>
<p>文件类型是 Vim 的重要概念，简单理解的话，不同的文件名后缀往往代表不同类型的文
件（<code>&amp;filetype</code>）。比如不同编程语言的源代码文件。不过 Vim 只是编辑器，它并不能
理解（编译或解释）任一种编程语言（VimL 除外）。所以 Vim 语境下的“语法”，本质上
只是“词法”，旨在说明可以如果对文件的不同部分进行不同的高亮着色，不过习惯上仍称
为语法着色。</p>
<p>这主要分两步实现。首先是定义高亮组（<code>highlight group</code>），它说明“如何高亮”，描
叙了该高亮下的颜色、字体等信息。然后是定义语法项（<code>syntax</code>），它说明高亮什么，
主要是基于正则表达式，将不同匹配（<code>match</code>）部分应用不同的高亮组。这样就有可能
将一个缓冲文件在窗口中以五颜六色的方式呈现出来。</p>
<p>一般不同的文件类型有相应的语法文件，文件中主要用 <code>:highlight</code> 与 <code>:syntax</code> 命
令定义了各种高亮组与语法项。这里要介绍的 VimL 内置函数，可以检索当前缓冲中实际
生效的语法信息，以及临时增加修改部分高亮方式。</p>
<ul>
<li>matchadd() 增加一种匹配应用某种高亮组</li>
<li>matchaddpos() 在特定（行列）位置上匹配应用高亮</li>
<li>matchdelete() 删除一处匹配的高亮</li>
<li>clearmatches() 清除所有匹配高亮</li>
<li>matcharg() 获取 <code>:match</code> 命令的参数信息</li>
<li>getmatches() 获取所有自定义匹配高亮</li>
<li>setmatches() 恢复一组自定义匹配高亮</li>
</ul>
<p>这几个函数用于手动控制一些文本的高亮方式（相对于语法文件的自动加载）。虽然这种
方式似乎比较原始，但有助于理解 Vim 语法高亮的处理机制，并且在临时微调语法高亮
或处理一些简单非常规文件类型时也有奇效。</p>
<p>首先要了解 <code>:match</code> 命令，它与之前介绍的用于匹配字符串的 <code>match()</code> 函数是不同
的功能。<code>:match {group} /{patter}/</code> 的意思相当于临时定义一种语法匹配，将匹配正
则表达式的文本应用指定的高亮组。你可以初步地认为每种文件类型的特定语法文件中都
正式地定义了很多种类似的语法匹配。不过 <code>:match</code> 的临时定义只能定义三种不同的匹
配，另外两个命令是 <code>:2match</code> 与 <code>:3match</code>。实际上它只是 <code>:match</code> 命令的数字参
数，默认是 <code>:1match</code> 而已。限制三种可能是出于性能、管理与实用的综合考虑。</p>
<p>然后 <code>matchadd()</code> 是 <code>:match</code> 命令的函数方式。所不同的是它不限于只定义三种匹配
，可以调用这个函数定义许多匹配，并且返回不同的 ID 用以表示所定义的不同匹配。当
然 <code>1-3</code> 这前三个 ID 被保留给 <code>:match</code> 命令使用。</p>
<p><code>matchaddpos()</code> 的功能类似，不过它不是通过正则表式式来定义匹配，而是准确地给出
一组位置信息，说明在哪些行（列）上要高亮。因为基于正则的语法高亮是比较低效的，
（在一些旧机器上打开大文件时若发现卡，可尝试关闭语法着色），按位置高亮就不那么
耗性能了。</p>
<p><code>matchdelete()</code> 用于删除自定义匹配，参数就是 <code>matchadd()</code> 返回的匹配ID（或者
<code>1-3</code> 代表通过 <code>:match</code> 命令定义的）。<code>clearmatches()</code> 则清除所有自定义匹配，
不需要参数。</p>
<p><code>matcharg()</code> 就是用于查看之前的自定义匹配，接收匹配ID为参数，返回其定义的信息。
<code>getmatches()</code> 用于获得所有自定义匹配的详细信息，返回的是字典列表，它可传给
<code>setmatches()</code> 恢复自定义匹配。</p>
<ul>
<li>hlexists() 由高亮组名判断其是否存在</li>
<li>hlID() 由高亮组名返回其数字ID</li>
<li>synID() 返回当前缓冲指定行列位置处所使用的语法项ID</li>
<li>synIDattr() 由语法项ID返回可读的属性信息</li>
<li>synIDtrans() 返回一个语法项ID实际所链接的语法项ID</li>
<li>synstack() 返回当前缓冲指定位置处所有的语法项ID堆栈</li>
<li>synconcealed() 返回当前缓冲指定位置处的隐藏语法信息</li>
</ul>
<p>在 Vim 内部，为每个高亮组与语法项都分配了 ID，其中高亮组有名字，而语法项是个更
虚拟的概念，没有名字，只能用 ID 表示。在当前缓冲的某部分文本（以行列号为参数）
使用了什么语法高亮，可用 <code>synID()</code> 获得，据此可进一步由 <code>synIDattr()</code> 获得该语
法高亮的详情属性。</p>
<p>在语法文件中，普遍使用 <code>:highlight link</code> 命令链接高亮组。因为 Vim 预设了大量通
用的高亮组名字，但允许用户在为不同类型文件的语法中使用更有意义的高亮组名，为避
免重复定义高亮属性，就可以将新高亮组链接到既有高亮组。<code>synIDtrans()</code> 函数就是
用于获得某个语法项ID实际链接的语法项ID。</p>
<p>Vim 的语法定义其实不是简单的正则匹配，还有更复杂的区域（<code>region</code>）与嵌套规则。
于是对于一部分文本（缓冲的行列位置）而言，它可能不只应用了一个语法项高亮，而是
由内向外形成了语法高亮栈。<code>synstack()</code> 就是获取这样的栈的函数，它返回一个列表
，最后一个元素其实就是 <code>synID()</code>。</p>
<ul>
<li>foldclosed() 检查当前缓冲指定行是否被折叠，返回折叠区的第一行</li>
<li>foldclosedend() 同上，返回折叠区的最后一行</li>
<li>foldlevel() 返回当前缓冲指定行应该折叠的最深层次，不要求已折叠</li>
<li>foldtext() 默认的折叠行显示文本计算函数</li>
<li>foldtextresult() 当前缓冲指定行如果折叠，折叠行应该显示的最终文本</li>
</ul>
<p>折叠从某种意义来说，也属于语法规则的范畴，只是它不是关于如何着色的，而是定义文
本层次的。折叠方法有很多种，可由选项 <code>&amp;foldmethod</code> 指定，其中一种就是 <code>syntax</code>
由语法定义决定折叠层次。有很多普通命令（<code>z</code> 开头的系列）处理折叠。这里的几个函
数只是访问折叠信息。</p>
<p>如果当前缓冲的某行已被折叠中，函数 <code>foldcolsed()</code> 与 <code>foldclosedend()</code> 分别返
回整个折叠区的首行与尾行；若未折叠，返回 <code>-1</code>。据此可知缓冲的实际文本与窗口显
示的文本行的差异。<code>foldlevel()</code> 返回折叠层级。任何折叠方法最终都由每行的折叠层
级决定折叠行为。其中有种自定义折叠函数（表达式），就由用户自己控制、计算返回每
行的折叠层级。其他折叠方法 Vim 会自动计算折叠层级。</p>
<p>折叠后，会在折叠首行显示一行特征文本，这行文本的计算方法由选项 <code>&amp;foldtext</code> 配
置指定。其默认值就是 <code>foldtext()</code> ，该函数也只能在计算 <code>&amp;foldtext</code> 时调用。某
行折叠后实际将显示的特征文本，则由 <code>foldtextresult()</code> 给出。</p>
<h3 id="ce-shi-han-shu">测试函数</h3>
<p>当程序或脚本变得复杂起来，单元测试就可能很有必要了。从 Vim8 版本始，也提供了许
多函数方便用户写单元测试。</p>
<ul>
<li><code>assert_equal()</code> 断言两个值相等，包括变量类型相同</li>
<li><code>assert_notequal()</code> 断言不相等</li>
<li><code>assert_inrange()</code> 断言一个值处在某个范围</li>
<li><code>assert_match()</code> 断言匹配正则表达式</li>
<li><code>assert_notmatch()</code> 断言不匹配正则表达式</li>
<li><code>assert_false()</code> 断言逻辑假，或数字0</li>
<li><code>assert_true()</code> 断言逻辑真，或非0数字</li>
<li><code>assert_exception()</code> 断言会抛出异常</li>
<li><code>assert_fails()</code> 断言执行一个命令会失败</li>
</ul>
<p>这些断言函数用法类似，一般是接收预期值与实际值，如果不满足断言条件，就添加一条
消息至内置变量 <code>v:errors</code> 列表中，其中消息字符串能传入可选参数定制。这些函数本
身不会产生错误输出或中断运行，只是先将错误信息暂存至 <code>v:errors</code> 中。所以在做单
元测试中，应该先将 <code>v:errors</code> 列表置空，调用一系列断言函数，最后检查该列表保存
了哪些错误消息，如果一切正常，该列表应该是空的。</p>


                </div>
            </div>

            <div class="prev-link">
                
    
        
        
        <a class="previous" href="https://lymslive.github.io/vimllearn/ch06-builtin-function/"><</a>
    

            </div>

            <div class="next-link">
                
    
        
        
        
        
            
            
            
        
            
            
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
                    
                
            
        
            
            
                <a class="next" href="https://lymslive.github.io/vimllearn/ch07-object-program/">></a>
                
                
            
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
        
            
            
            
                
            
                
            
                
            
        
            
            
            
        
    

            </div>
        </div>

        
            
            <script type="text/javascript" src="https://lymslive.github.io/vimllearn/elasticlunr.min.js"></script>
            <script type="text/javascript" src="https://lymslive.github.io/vimllearn/search_index.en.js"></script>
            
            <script type="text/javascript" src="https://lymslive.github.io/vimllearn/book.js"></script>
        
    </body>

</html>
